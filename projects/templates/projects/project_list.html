{% extends "core/base.html" %}
{% block content %}

<div class="mb-12">
    <h2 class="text-4xl font-black text-white uppercase tracking-tighter italic">Structural_Ledger</h2>
    <p class="mono text-xs text-slate-500 uppercase tracking-widest mt-2">// Accessing project database archives</p>
</div>

<div class="grid md:grid-cols-3 gap-0 border-t border-l border-slate-800">
    {% for project in projects %}
    <div class="group relative border-r border-b border-slate-800 p-6 bg-slate-950/40 transition-all hover:bg-slate-900/60">
        
        <div class="absolute top-4 left-4 z-10 mono text-[8px] text-slate-600 opacity-0 group-hover:opacity-100 transition-opacity">
            GRID_REF: {{ forloop.counter }}01_CVL
        </div>

        <div class="relative overflow-hidden mb-6 border border-slate-800 aspect-video">
            <img src="{{ project.image.url }}" class="w-full h-full object-cover grayscale brightness-50 group-hover:grayscale-0 transition-all duration-700">
            <div class="absolute inset-0 border-[15px] border-slate-950/40 group-hover:border-transparent transition-all"></div>
        </div>

        <h3 class="text-xl font-bold text-white uppercase mb-4">{{ project.title }}</h3>
        
        <table class="w-full mono text-[10px] text-slate-400 mb-6">
            <tr class="border-b border-slate-800/50">
                <td class="py-2 uppercase">Classification</td>
                <td class="py-2 text-right text-slate-200">{{ project.category.name|default:"General" }}</td>
            </tr>
            <tr>
                <td class="py-2 uppercase">Site_Role</td>
                <td class="py-2 text-right text-slate-200">{{ project.role|truncatechars:15 }}</td>
            </tr>
        </table>

        <a href="{% url 'project_detail' project.id %}" class="block text-center mono text-[10px] border border-slate-700 py-3 text-slate-400 hover:border-orange-500 hover:text-orange-500 tracking-widest uppercase transition-all">
            Open_Tech_File [â†’]
        </a>
    </div>
    {% endfor %}
</div>

{% endblock %}